(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{745:function(t,d,_){"use strict";_.r(d);var v=_(15),e=Object(v.a)({},(function(){var t=this,d=t.$createElement,_=t._self._c||d;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"前言"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),_("h3",{attrs:{id:"项目环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#项目环境"}},[t._v("#")]),t._v(" 项目环境")]),t._v(" "),_("ul",[_("li",[t._v("前端框架：js+jq+html+css")])]),t._v(" "),_("h2",{attrs:{id:"示例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),_("body",{staticClass:"htmledit_views cke_editable cke_editable_themed cke_contents_ltr cke_show_borders",attrs:{contenteditable:"true",spellcheck:"false"}},[_("h2",[t._v("1. 获取Token")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("功能")]),_("td",[t._v("接口")])])]),_("tbody",[_("tr",[_("td",[t._v("请求方式")]),_("td",[t._v("POST")])]),_("tr",[_("td",[t._v("URL")]),_("td",[t._v("https://img.qlong.top/api/token")])])])]),_("p",[t._v("请求参数")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("是否必须")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("email")]),_("td",[t._v("String")]),_("td",[t._v("是")]),_("td",[t._v("邮箱")])]),_("tr",[_("td",[t._v("password")]),_("td",[t._v("String")]),_("td",[t._v("是")]),_("td",[t._v("账号密码")])]),_("tr",[_("td",[t._v("format")]),_("td",[t._v("String")]),_("td",[t._v("否")]),_("td",[t._v("返回数据格式，可选json、xml、jsonp，默认json")])])])]),_("p",[t._v("返回数据说明")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("实例值")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("code")]),_("td",[t._v("Number")]),_("td",[t._v("200")]),_("td",[t._v("状态码，成功返回200，失败返回500")])]),_("tr",[_("td",[t._v("msg")]),_("td",[t._v("String")]),_("td",[t._v("success")]),_("td",[t._v("提示信息")])]),_("tr",[_("td",[t._v("time")]),_("td",[t._v("Number")]),_("td",[t._v("1544176295")]),_("td",[t._v("响应时间戳")])]),_("tr",[_("td",[t._v("data")]),_("td",[t._v("array|object")]),_("td",[t._v('{"token": "8961576c9090ef0902c4b89406f8d557"}')]),_("td",[t._v("获取的token数据")])])])]),_("h2",[t._v("2. 图片上传")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("功能")]),_("td",[t._v("接口")])])]),_("tbody",[_("tr",[_("td",[t._v("请求方式")]),_("td",[t._v("POST")])]),_("tr",[_("td",[t._v("URL")]),_("td",[t._v("https://img.qlong.top/api/upload")])])])]),_("p",[t._v("请求参数")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("是否必须")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("image")]),_("td",[t._v("File")]),_("td",[t._v("是")]),_("td",[t._v("表单名称")])]),_("tr",[_("td",[t._v("format")]),_("td",[t._v("String")]),_("td",[t._v("否")]),_("td",[t._v("返回数据格式，可选json、xml、jsonp，默认json")])])])]),_("p",[t._v("注意：请求时header如果有参数 token，接口则认证该token，上传的图片也是在该token用户下，否则为游客上传。")]),_("p",[t._v("返回数据说明")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("实例值")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("code")]),_("td",[t._v("Number")]),_("td",[t._v("200")]),_("td",[t._v("状态码，成功返回200，失败返回500")])]),_("tr",[_("td",[t._v("msg")]),_("td",[t._v("String")]),_("td",[t._v("success")]),_("td",[t._v("提示信息")])]),_("tr",[_("td",[t._v("time")]),_("td",[t._v("Number")]),_("td",[t._v("1544176295")]),_("td",[t._v("响应时间戳")])]),_("tr",[_("td",[t._v("data")]),_("td",[t._v("array|object")]),_("td",[_("pre",{},[_("code",{staticClass:"language-html hljs"},[t._v("{"),_("br"),t._v('  "name": "9B7BCFBD05891B2D42187F126887777A.jpg",'),_("br"),t._v('  "url": "http://域名/2018/12/08/5c0b519f44701.jpg"'),_("br"),t._v("}")])])]),_("td",[t._v("获取的token数据")])])])]),_("p",[t._v("上传示例")]),_("pre",{},[_("code",{staticClass:"language-html hljs"},[t._v("POST /api/upload HTTP/1.1"),_("br"),t._v("Host: https://img.qlong.top"),_("br"),t._v("Connection: keep-alive"),_("br"),t._v("Content-Length: 57398"),_("br"),t._v("Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryx2mqINKHVPJ8yMdK"),_("br"),_("br"),t._v("------WebKitFormBoundaryx2mqINKHVPJ8yMdK"),_("br"),t._v('Content-Disposition: form-data; name="image"; filename="test.png"'),_("br"),t._v("Content-Type: image/png"),_("br")])]),_("p",[t._v("响应错误示例")]),_("pre",{},[_("code",{staticClass:"language-html hljs"},[t._v("{"),_("br"),t._v('  "code": 500,'),_("br"),t._v('  "msg": "管理员关闭了游客上传！",'),_("br"),t._v('  "data": null,'),_("br"),t._v('  "time": 1544245931'),_("br"),t._v("}")])]),_("p",[t._v("注意：以下接口均需要 Token")]),_("h2",[t._v("3. 获取图片列表")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("功能")]),_("td",[t._v("接口")])])]),_("tbody",[_("tr",[_("td",[t._v("请求方式")]),_("td",[t._v("POST")])]),_("tr",[_("td",[t._v("URL")]),_("td",[t._v("https://img.qlong.top/api/images")])])])]),_("p",[t._v("请求参数")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("是否必须")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("page")]),_("td",[t._v("String")]),_("td",[t._v("是")]),_("td",[t._v("页码")])]),_("tr",[_("td",[t._v("rows")]),_("td",[t._v("String")]),_("td",[t._v("否")]),_("td",[t._v("每页数量, 默认 20 条")])])])]),_("p",[t._v("返回数据(data)说明")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("实例值")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("total")]),_("td",[t._v("Number")]),_("td",[t._v("999")]),_("td",[t._v("数据总量")])]),_("tr",[_("td",[t._v("per_page")]),_("td",[t._v("String")]),_("td",[t._v("1")]),_("td",[t._v("每页数量")])]),_("tr",[_("td",[t._v("current_page")]),_("td",[t._v("Number")]),_("td",[t._v("1")]),_("td",[t._v("当前所在页码")])]),_("tr",[_("td",[t._v("last_page")]),_("td",[t._v("Number")]),_("td",[t._v("999")]),_("td",[t._v("最后一页页码")])])])]),_("p",[t._v("图片数据说明")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("实例值")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("id")]),_("td",[t._v("Number")]),_("td",[t._v("1")]),_("td",[t._v("图片ID")])]),_("tr",[_("td",[t._v("strategy")]),_("td",[t._v("String")]),_("td",[t._v("oss")]),_("td",[t._v("储存策略, (cos:腾讯云, kodo:七牛云, local:本地, oss:阿里云oss, remote:远程储存, uss:又拍云)")])]),_("tr",[_("td",[t._v("path")]),_("td",[t._v("String")]),_("td",[t._v("2019/10/31")]),_("td",[t._v("图片所在路径")])]),_("tr",[_("td",[t._v("alias_name")]),_("td",[t._v("String")]),_("td",[t._v("test")]),_("td",[t._v("图片别名")])]),_("tr",[_("td",[t._v("name")]),_("td",[t._v("String")]),_("td",[t._v("929616303ca92.jpg")]),_("td",[t._v("图片名称")])]),_("tr",[_("td",[t._v("pathname")]),_("td",[t._v("String")]),_("td",[t._v("2019/10/31/929616303ca92.jpg")]),_("td",[t._v("图片路径+名称")])]),_("tr",[_("td",[t._v("size")]),_("td",[t._v("String")]),_("td",[t._v("30405.00")]),_("td",[t._v("图片大小(字节: b)")])]),_("tr",[_("td",[t._v("mime")]),_("td",[t._v("String")]),_("td",[t._v("image/jpeg")]),_("td",[t._v("图片 mime 类型")])]),_("tr",[_("td",[t._v("sha1")]),_("td",[t._v("String")]),_("td",[t._v("0143f7904f12e2a76ff2935f21a771b8adadf961")]),_("td",[t._v("图片 sha1 值")])]),_("tr",[_("td",[t._v("md5")]),_("td",[t._v("String")]),_("td",[t._v("e630c1d832f1701b0afe09cfe86a7f2b")]),_("td",[t._v("图片 md5 值")])]),_("tr",[_("td",[t._v("ip")]),_("td",[t._v("String")]),_("td",[t._v("192.168.0.1")]),_("td",[t._v("上传者 IP")])]),_("tr",[_("td",[t._v("suspicious")]),_("td",[t._v("Number")]),_("td",[t._v("0")]),_("td",[t._v("是否是可疑图片, (0:否, 1:是)")])]),_("tr",[_("td",[t._v("update_time")]),_("td",[t._v("Number")]),_("td",[t._v("1572491936")]),_("td",[t._v("图片上传时间")])]),_("tr",[_("td",[t._v("update_date")]),_("td",[t._v("String")]),_("td",[t._v("2019-10-31 11:18:56")]),_("td",[t._v("图片上传日期")])]),_("tr",[_("td",[t._v("url")]),_("td",[t._v("String")]),_("td",[t._v("http://domain.com/2019/10/31/929616303ca92.jpg")]),_("td",[t._v("图片链接")])])])]),_("h2",[t._v("4. 获取单张图片")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("功能")]),_("td",[t._v("接口")])])]),_("tbody",[_("tr",[_("td",[t._v("请求方式")]),_("td",[t._v("POST")])]),_("tr",[_("td",[t._v("URL")]),_("td",[t._v("https://img.qlong.top/api/image")])])])]),_("p",[t._v("请求参数")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("是否必须")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("id")]),_("td",[t._v("String")]),_("td",[t._v("是")]),_("td",[t._v("图片ID")])])])]),_("p",[t._v("返回数据(data)与第三条相同")]),_("h2",[t._v("5. 删除图片")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("功能")]),_("td",[t._v("接口")])])]),_("tbody",[_("tr",[_("td",[t._v("请求方式")]),_("td",[t._v("POST")])]),_("tr",[_("td",[t._v("URL")]),_("td",[t._v("https://img.qlong.top/api/delete")])])])]),_("p",[t._v("请求参数")]),_("table",{staticClass:" cke_show_border"},[_("thead",[_("tr",[_("td",[t._v("参数名称")]),_("td",[t._v("类型")]),_("td",[t._v("是否必须")]),_("td",[t._v("说明")])])]),_("tbody",[_("tr",[_("td",[t._v("id")]),_("td",[t._v("String")]),_("td",[t._v("是")]),_("td",[t._v("图片ID, 删除多个使用逗号分隔")])])])])]),t._v("\n## 后记\n目前仍在不断地探索中\n[链接去博主的csdn](https://blog.csdn.net/mlonly)              \n")])}),[],!1,null,null,null);d.default=e.exports}}]);