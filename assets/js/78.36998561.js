(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{713:function(t,n,e){"use strict";e.r(n);var a=e(15),o=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),e("ol",[e("li",[t._v("获取Token\n功能\t接口\n请求方式\tPOST\nURL\thttps://img.qlong.top/api/token\n请求参数")])]),t._v(" "),e("p",[t._v("参数名称\t类型\t是否必须\t说明\nemail\tString\t是\t邮箱\npassword\tString\t是\t账号密码\nformat\tString\t否\t返回数据格式，可选json、xml、jsonp，默认json\n返回数据说明")]),t._v(" "),e("p",[t._v('参数名称\t类型\t实例值\t说明\ncode\tNumber\t200\t状态码，成功返回200，失败返回500\nmsg\tString\tsuccess\t提示信息\ntime\tNumber\t1544176295\t响应时间戳\ndata\tarray|object\t{"token": "8961576c9090ef0902c4b89406f8d557"}\t获取的token数据\n2. 图片上传\n功能\t接口\n请求方式\tPOST\nURL\thttps://img.qlong.top/api/upload\n请求参数')]),t._v(" "),e("p",[t._v("参数名称\t类型\t是否必须\t说明\nimage\tFile\t是\t表单名称\nformat\tString\t否\t返回数据格式，可选json、xml、jsonp，默认json\n注意：请求时header如果有参数 token，接口则认证该token，上传的图片也是在该token用户下，否则为游客上传。")]),t._v(" "),e("p",[t._v("返回数据说明")]),t._v(" "),e("p",[t._v('参数名称\t类型\t实例值\t说明\ncode\tNumber\t200\t状态码，成功返回200，失败返回500\nmsg\tString\tsuccess\t提示信息\ntime\tNumber\t1544176295\t响应时间戳\ndata\tarray|object\t\n{\n"name": "9B7BCFBD05891B2D42187F126887777A.jpg",\n"url": "http://域名/2018/12/08/5c0b519f44701.jpg"\n}\n获取的token数据\n上传示例')]),t._v(" "),e("p",[t._v("POST /api/upload HTTP/1.1\nHost: https://img.qlong.top\nConnection: keep-alive\nContent-Length: 57398\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundaryx2mqINKHVPJ8yMdK")]),t._v(" "),e("p",[t._v('------WebKitFormBoundaryx2mqINKHVPJ8yMdK\nContent-Disposition: form-data; name="image"; filename="test.png"\nContent-Type: image/png\n响应错误示例')]),t._v(" "),e("p",[t._v('{\n"code": 500,\n"msg": "管理员关闭了游客上传！",\n"data": null,\n"time": 1544245931\n}\n注意：以下接口均需要 Token')]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("获取图片列表\n功能\t接口\n请求方式\tPOST\nURL\thttps://img.qlong.top/api/images\n请求参数")])]),t._v(" "),e("p",[t._v("参数名称\t类型\t是否必须\t说明\npage\tString\t是\t页码\nrows\tString\t否\t每页数量, 默认 20 条\n返回数据(data)说明")]),t._v(" "),e("p",[t._v("参数名称\t类型\t实例值\t说明\ntotal\tNumber\t999\t数据总量\nper_page\tString\t1\t每页数量\ncurrent_page\tNumber\t1\t当前所在页码\nlast_page\tNumber\t999\t最后一页页码\n图片数据说明")]),t._v(" "),e("p",[t._v("参数名称\t类型\t实例值\t说明\nid\tNumber\t1\t图片ID\nstrategy\tString\toss\t储存策略, (cos:腾讯云, kodo:七牛云, local:本地, oss:阿里云oss, remote:远程储存, uss:又拍云)\npath\tString\t2019/10/31\t图片所在路径\nalias_name\tString\ttest\t图片别名\nname\tString\t929616303ca92.jpg\t图片名称\npathname\tString\t2019/10/31/929616303ca92.jpg\t图片路径+名称\nsize\tString\t30405.00\t图片大小(字节: b)\nmime\tString\timage/jpeg\t图片 mime 类型\nsha1\tString\t0143f7904f12e2a76ff2935f21a771b8adadf961\t图片 sha1 值\nmd5\tString\te630c1d832f1701b0afe09cfe86a7f2b\t图片 md5 值\nip\tString\t192.168.0.1\t上传者 IP\nsuspicious\tNumber\t0\t是否是可疑图片, (0:否, 1:是)\nupdate_time\tNumber\t1572491936\t图片上传时间\nupdate_date\tString\t2019-10-31 11:18:56\t图片上传日期\nurl\tString\thttp://domain.com/2019/10/31/929616303ca92.jpg\t图片链接\n4. 获取单张图片\n功能\t接口\n请求方式\tPOST\nURL\thttps://img.qlong.top/api/image\n请求参数")]),t._v(" "),e("p",[t._v("参数名称\t类型\t是否必须\t说明\nid\tString\t是\t图片ID\n返回数据(data)与第三条相同")]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("删除图片\n功能\t接口\n请求方式\tPOST\nURL\thttps://img.qlong.top/api/delete\n请求参数")])]),t._v(" "),e("p",[t._v("参数名称\t类型\t是否必须\t说明\nid\tString\t是\t图片ID, 删除多个使用逗号分隔")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200310164942689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21sb25seQ==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})])])}),[],!1,null,null,null);n.default=o.exports}}]);